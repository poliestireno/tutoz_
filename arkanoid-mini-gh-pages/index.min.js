let canvas=document.querySelector("#canvas"),context=canvas.getContext("2d");const canvas_height=550,canvas_width=550;let body=document.querySelector("#body"),home=document.querySelector("#welcome"),intro=document.querySelector("#intro"),modal=document.querySelector(".modal-mobile"),skipButton=document.querySelector(".skip"),buttonToLevel1=document.querySelector(".toLevel1"),buttonToLevel2=document.querySelector(".toLevel2"),buttonToLevel3=document.querySelector(".toLevel3"),buttonToLevel4=document.querySelector(".toLevel4"),buttonToLevel5=document.querySelector(".toLevel5"),buttonToEnd=document.querySelector(".toEnd"),gameRules=document.querySelector(".gameRules"),playButton=document.querySelector(".playGame"),restartButton=document.querySelector("#restart"),gamescreen=document.querySelector("#game"),startButton=document.querySelector("#start"),pause=document.querySelector("#pause"),levelName=document.querySelector(".levelName"),gameOverMenu=document.querySelector("#gameover"),end=document.querySelector("#end"),gameState="home";function setGameState(state){gameState=state}function toLevel2(){intro.style.display="none",canvas.style.display="block",gameRules.style.visibility="visible",buttonToLevel2.onclick&&(soundIntro.pause(),setGameState("level2"),createBricksL2(),displayLevel())}function toLevel3(){intro.style.display="none",canvas.style.display="block",gameRules.style.visibility="visible",buttonToLevel2.onclick&&(soundIntro.pause(),setGameState("level3"),createBricksL3(),displayLevel())}function toLevel4(){intro.style.display="none",canvas.style.display="block",gameRules.style.visibility="visible",buttonToLevel2.onclick&&(soundIntro.pause(),setGameState("level4"),createBricksL4(),displayLevel())}function toLevel5(){intro.style.display="none",canvas.style.display="block",gameRules.style.visibility="visible",buttonToLevel2.onclick&&(soundIntro.pause(),setGameState("level5"),createBricksL5(),displayLevel())}function toEnd(){intro.style.display="none",canvas.style.display="none",gameRules.style.visibility="none",buttonToEnd.onclick&&(soundIntro.pause(),setGameState("ending"),displayLevel())}function displayGame(){startButton.style.display="none","level1"==gameState?(setGameState("playL1"),soundLevel1.play()):"level2"==gameState?(setGameState("playL2"),soundLevel2.play()):"level3"==gameState?(setGameState("playL3"),soundLevel3.play()):"level4"==gameState?(setGameState("playL4"),soundLevel4.play()):"level5"==gameState&&(setGameState("playL5"),soundLevel5.play())}function displayPause(){"pauseL1"!=gameState&&"pauseL2"!=gameState&&"pauseL3"!=gameState&&"pauseL4"!=gameState&&"pauseL5"!=gameState||(pause.style.display="block"),"playL1"!=gameState&&"playL2"!=gameState&&"playL3"!=gameState&&"playL4"!=gameState&&"playL5"!=gameState||(pause.style.display="none")}function displayGameOver(){"gameover"==gameState&&(gameOverMenu.style.display="flex",setTimeout(displayRestartGame,8500))}function displayRestartGame(){restartButton.style.display="block"}function displayLevelName(){"level1"==gameState||"playL1"==gameState||"pauseL1"==gameState?levelName.innerHTML="ROUND 1 <br> Once in a while":"level2"==gameState||"playL2"==gameState||"pauseL2"==gameState?levelName.innerHTML="ROUND 2 <br> Blame it on the goose !":"level3"==gameState||"playL3"==gameState||"pauseL3"==gameState?levelName.innerHTML="ROUND 3 <br> Proof in the puddin&apos;":"level4"==gameState||"playL4"==gameState||"pauseL4"==gameState?levelName.innerHTML="ROUND 4 <br> D O H&nbsp;&apos;s Mount":"level5"!=gameState&&"playL5"!=gameState&&"pauseL5"!=gameState||(levelName.innerHTML="DEFEAT D O H !!!")}function backgroundCanvas(){canvas.style.backgroundRepeat="no-repeat",canvas.style.backgroundPosition="top",canvas.style.backgroundSize="cover"}function backgroundBody(){body.style.backgroundRepeat="no-repeat",body.style.backgroundPosition="center",body.style.backgroundSize="120%"}function hideSkipButton(){skipButton.style.display="none"}function displayLevel(){home.style.display="none",gamescreen.style.display="flex",startButton.style.display="block","home"==gameState?(setGameState("intro"),soundIntro.play(),setTimeout(hideSkipButton,96500)):"intro"==gameState&&(setGameState("level1"),soundIntro.pause()),"intro"==gameState&&(intro.style.display="block",startButton.style.display="none",restartButton.style.display="none",canvas.style.display="none",intro.addEventListener("scroll",hideSkipButton)),"level1"==gameState&&(intro.style.display="none",gameRules.style.visibility="visible",canvas.style.display="block",canvas.style.backgroundImage="url('img/tilelevel1.png')",backgroundCanvas(),body.style.backgroundImage="radial-gradient(circle, red 30%, gray 100%)",displayLevelName()),"level2"==gameState&&(canvas.style.backgroundImage="url('img/tilelevel2.png')",backgroundCanvas(),body.style.backgroundImage="radial-gradient(red,orange)",displayLevelName()),"level3"==gameState&&(canvas.style.backgroundImage="url('img/tilelevel3.png')",backgroundCanvas(),body.style.backgroundImage="radial-gradient(circle, #00C9FF, #92FE9D)",displayLevelName()),"level4"==gameState&&(canvas.style.backgroundImage="url('img/tilepreboss.png')",backgroundCanvas(),body.style.backgroundImage="radial-gradient(circle, white 0%, #FD746C 50%,  #2C3E50 100%)",displayLevelName()),"level5"==gameState&&(canvas.style.backgroundImage="none",canvas.style.borderBottom="none",body.style.backgroundImage="url('img/DOHred.png')",window.innerWidth>600?body.style.backgroundSize="30%":body.style.backgroundSize="120%",body.style.backgroundRepeat="space",body.style.backgroundPosition="center",displayLevelName()),"ending"==gameState&&(end.style.display="block",levelName.style.display="none",startButton.style.display="none",canvas.style.display="none",body.style.backgroundImage="linear-gradient(#a5b1c2, #45aaf2)",document.querySelector(".endtext-wrapper").style.animation="Outro 120000ms ease-out forwards",soundEnding.play()),window.innerWidth<769&&("level1"===gameState||"level2"===gameState||"level3"===gameState||"level4"===gameState||"level5"===gameState)&&(gameRules.style.display="none",modal.style.visibility="visible",modal.children[0].style.animation="comeIn 300ms forwards 1250ms",modal.style.animation="fadeIn 1000ms forwards 1000ms"),window.innerWidth<600&&"ending"===gameState&&(document.querySelector(".endtext-wrapper").style.animation="OutroMobile 120000ms ease-out forwards"),window.innerHeight<500&&"ending"===gameState&&(document.querySelector(".endtext-wrapper").style.animation="OutroMobile 120000ms ease-out forwards")}playButton.onclick=displayLevel,skipButton.onclick=displayLevel,buttonToLevel1.onclick=displayLevel,buttonToLevel2.onclick=toLevel2,buttonToLevel3.onclick=toLevel3,buttonToLevel4.onclick=toLevel4,buttonToLevel5.onclick=toLevel5,buttonToEnd.onclick=toEnd;let rightArrow=!1,leftArrow=!1,spaceBar=!1;document.addEventListener("keydown",(function(event){39==event.keyCode&&(rightArrow=!0),37==event.keyCode&&(leftArrow=!0),32==event.keyCode&&("level1"===gameState||"level2"==gameState||"level3"==gameState||"level4"==gameState||"level5"==gameState?displayGame():"playL1"===gameState?(spaceBar=!0,setGameState("pauseL1"),displayPause(),soundLevel1.pause()):"pauseL1"===gameState?(setGameState("playL1"),displayPause(),soundLevel1.play()):"playL2"==gameState?(spaceBar=!0,setGameState("pauseL2"),displayPause(),soundLevel2.pause()):"pauseL2"==gameState?(setGameState("playL2"),displayPause(),soundLevel2.play()):"playL3"==gameState?(spaceBar=!0,setGameState("pauseL3"),displayPause(),soundLevel3.pause()):"pauseL3"==gameState?(setGameState("playL3"),displayPause(),soundLevel3.play()):"playL4"==gameState?(spaceBar=!0,setGameState("pauseL4"),displayPause(),soundLevel4.pause()):"pauseL4"==gameState?(setGameState("playL4"),displayPause(),soundLevel4.play()):"playL5"==gameState?(spaceBar=!0,setGameState("pauseL5"),displayPause(),soundLevel5.pause()):"pauseL5"==gameState&&(setGameState("playL5"),displayPause(),soundLevel5.play()))})),document.addEventListener("keyup",(function(event){39==event.keyCode&&(rightArrow=!1),37==event.keyCode&&(leftArrow=!1),32==event.keyCode&&(spaceBar=!1)}));let soundPaddle=new Audio,soundBricks=new Audio,soundWalls=new Audio,soundLost=new Audio,soundLevelWon=new Audio,soundGameOver=new Audio,soundIntro=new Audio,soundLevel1=new Audio,soundLevel2=new Audio,soundLevel3=new Audio,soundLevel4=new Audio,soundLevel5=new Audio,soundEnding=new Audio;soundPaddle.src="sounds/paddle.mp3",soundBricks.src="sounds/goldbricks.mp3",soundWalls.src="sounds/walls.mp3",soundLost.src="sounds/lostlife.mp3",soundLevelWon.src="sounds/levelwon.mp3",soundGameOver.src="sounds/gameover.mp3",soundIntro.src="sounds/intro.mp3",soundLevel1.src="sounds/level1.mp3",soundLevel2.src="sounds/level2.mp3",soundLevel3.src="sounds/level3.mp3",soundLevel4.src="sounds/level4.mp3",soundLevel5.src="sounds/level5.mp3",soundEnding.src="sounds/ending.mp3";let life=9,score=0,levelWon;function displayLives(text,textX,textY){context.fillStyle="white",context.fillText(text,textX,textY),context.font="18px pixel"}function displayScore(text,textX,textY){context.fillStyle="white",score>=1e3&&(context.fillStyle="#f8ff43"),score>=2e3&&(context.fillStyle="pink"),score>=3e3&&(context.fillStyle="#ff5106"),score>=4e3&&(context.fillStyle="#00ee1b"),score>=5e3&&(context.fillStyle="#0037c4"),score>=6e3&&(context.fillStyle="#FFD700"),context.fillText(text,textX,textY),context.font="18px pixel"}function decrementLives(){0!==life&&(life--,gameOver())}function loseLife(){ball.y+ball.radius>paddle.y+paddle.height+2*ball.radius&&(ball.ySpeed=ball.xSpeed=0,decrementLives(),"gameover"!==gameState&&(soundLost.play(),resetBall(),"playL1"==gameState&&setTimeout(dropBall,1500),"playL2"==gameState&&setTimeout(dropBall,1e3),"playL3"==gameState&&setTimeout(dropBall,700),"playL4"==gameState&&setTimeout(dropBall,700),"playL5"==gameState&&setTimeout(dropBall,0)))}function gameOver(){0==life&&("playL1"!=gameState&&"playL2"!=gameState&&"playL3"!=gameState&&"playL4"!=gameState||(soundLevel1.pause(),soundLevel2.pause(),soundLevel3.pause(),soundLevel4.pause()),soundGameOver.play(),setGameState("gameover"),displayGameOver())}function resetLevel(){gameRules.style.visibility="hidden",ball.x=275,ball.y=275,paddle.x=(550-paddle_width)/2,dropBall()}function levelUp(){let levelWon=!1,totalBricks=brick.rows*brick.columns;for(r=0;r<brick.rows;r++)for(c=0;c<brick.columns;c++){let b;bricks[r][c].unbroken||(totalBricks-=1)}0===totalBricks&&("playL1"!=gameState&&"playL2"!=gameState&&"playL3"!=gameState&&"playL4"!=gameState&&"playL5"!=gameState||(soundLevel1.pause(),soundLevel2.pause(),soundLevel3.pause(),soundLevel4.pause(),soundLevel5.pause()),levelWon=!0),levelWon&&"playL1"==gameState&&(soundLevelWon.play(),setGameState("winL1"),setTimeout(switchLevel,2e3)),levelWon&&"playL2"==gameState&&(soundLevelWon.play(),setGameState("winL2"),setTimeout(switchLevel,2e3)),levelWon&&"playL3"==gameState&&(soundLevelWon.play(),setGameState("winL3"),setTimeout(switchLevel,2e3)),levelWon&&"playL4"==gameState&&(soundLevelWon.play(),setGameState("winL4"),setTimeout(switchLevel,1500)),levelWon&&"playL5"==gameState&&(soundLevelWon.play(),setGameState("winL5"),setTimeout(switchLevel,1500))}function switchLevel(){"winL1"==gameState&&(setGameState("level2"),displayLevel(),createBricks(),resetLevel()),"winL2"==gameState&&(setGameState("level3"),displayLevel(),createBricks(),resetLevel()),"winL3"==gameState&&(setGameState("level4"),displayLevel(),createBricks(),resetLevel()),"winL4"==gameState&&(setGameState("level5"),displayLevel(),createBricks(),resetLevel()),"winL5"==gameState&&(setGameState("ending"),displayLevel())}let paddle_width=70;const paddle_height=12,paddle={width:paddle_width,height:12,x:(550-paddle_width)/2,y:470,speed:5};function drawPaddle(){"level1"!=gameState&&"playL1"!=gameState&&"pauseL1"!=gameState&&"level5"!=gameState&&"playL5"!=gameState&&"pauseL5"!=gameState||("level5"==gameState&&(paddle.x=(550-paddle_width)/2+20),context.fillStyle="#0aeb00",context.strokeStyle="black"),"level2"!=gameState&&"playL2"!=gameState&&"pauseL2"!=gameState||("level2"==gameState&&(paddle.x=(550-paddle_width)/2+5),context.fillStyle="yellow",context.strokeStyle="black"),"level3"!=gameState&&"playL3"!=gameState&&"pauseL3"!=gameState||("level3"==gameState&&(paddle.x=(550-paddle_width)/2+10),context.fillStyle="gray",context.strokeStyle="black"),"level4"!=gameState&&"playL4"!=gameState&&"pauseL4"!=gameState||("level4"==gameState&&(paddle.x=(550-paddle_width)/2+15),context.fillStyle="#888",context.strokeStyle="black"),"winL1"!=gameState&&"winL2"!=gameState&&"winL3"!=gameState&&"winL4"!=gameState&&"winL5"!=gameState||(context.fillStyle="orange",context.strokeStyle="lightblue"),"gameover"==gameState&&(context.fillStyle="white",context.strokeStyle="white"),context.fillRect(paddle.x,paddle.y,paddle.width,paddle.height),context.strokeRect(paddle.x,paddle.y,paddle.width,paddle.height)}function movePaddle(){rightArrow&&paddle.x<=550-paddle.width-21?paddle.x+=paddle.speed:leftArrow&&paddle.x>=21&&(paddle.x-=paddle.speed)}function updatePaddle(){"level2"!=gameState&&"playL2"!=gameState&&"pauseL2"!=gameState||(paddle.width=60),"level3"!=gameState&&"playL3"!=gameState&&"pauseL3"!=gameState||(paddle.width=55,paddle.speed=6),"level4"!=gameState&&"playL4"!=gameState&&"pauseL4"!=gameState||(paddle.width=55,paddle.speed=7),"level5"!=gameState&&"playL5"!=gameState&&"pauseL5"!=gameState||(paddle.width=50,paddle.speed=7),"gameover"==gameState&&(paddle.width=24)}const ball={radius:7,x:275,y:275,xSpeed:4*(2*Math.random()-1),ySpeed:5};function drawBall(){context.beginPath(),context.arc(ball.x,ball.y,ball.radius,0,2*Math.PI),"level4"==gameState&&(ball.y=370),"level1"!=gameState&&"playL1"!=gameState&&"pauseL1"!=gameState||(context.fillStyle="#555"),"level2"!=gameState&&"playL2"!=gameState&&"pauseL2"!=gameState||(context.fillStyle="black"),"level3"!=gameState&&"playL3"!=gameState&&"pauseL3"!=gameState||(context.fillStyle="#67cbfa"),"level4"!=gameState&&"playL4"!=gameState&&"pauseL4"!=gameState||(context.fillStyle="yellow"),"level5"!=gameState&&"playL5"!=gameState&&"pauseL5"!=gameState||(context.fillStyle="lightblue"),"gameover"==gameState&&(context.fillStyle="white"),context.fill(),"level1"!=gameState&&"playL1"!=gameState&&"pauseL1"!=gameState||(context.strokeStyle="tomato"),"level2"!=gameState&&"playL2"!=gameState&&"pauseL2"!=gameState||(context.strokeStyle="pink"),"level3"!=gameState&&"playL3"!=gameState&&"pauseL3"!=gameState||(context.strokeStyle="blue"),"level4"!=gameState&&"playL4"!=gameState&&"pauseL4"!=gameState||(context.strokeStyle="lightblue"),"level5"!=gameState&&"playL5"!=gameState&&"pauseL5"!=gameState||(context.strokeStyle="white"),"gameover"==gameState&&(context.strokeStyle="white"),context.stroke(),context.closePath()}function moveBall(){ball.x+=ball.xSpeed,ball.y+=ball.ySpeed}function resetBall(){ball.x=275,ball.y=275,"level4"!=gameState&&"playL4"!=gameState||(ball.y=370)}function dropBall(){ball.xSpeed=4*(2*Math.random()-1),ball.ySpeed=4,"playL5"==gameState&&(ball.ySpeed=5)}const brick_width=45,brick_height=10,brick={x:55,y:20,width:45,height:10,columns:0,rows:0};let bricks=[];function createBricksL1(){for(brick.rows=3,brick.columns=9,r=0;r<brick.rows;r++)for(bricks[r]=[],c=0;c<brick.columns;c++)bricks[r][c]={x:c*brick.x+35,y:r*brick.y+80,unbroken:!0}}function createBricksL2(){for(brick.rows=6,brick.columns=8,r=0;r<brick.rows;r++)for(bricks[r]=[],c=0;c<brick.columns;c++)bricks[r][c]={x:c*(brick.x+5)+44,y:r*(brick.y+5)+80,unbroken:!0}}function createBricksL3(){for(brick.rows=9,brick.columns=9,r=0;r<brick.rows;r++)for(bricks[r]=[],c=0;c<brick.columns;c++)bricks[r][c]={x:c*brick.x+35,y:r*brick.y+80,unbroken:!0}}function createBricksL4(){for(brick.rows=19,brick.columns=4,r=0;r<brick.rows;r++)for(bricks[r]=[],c=0;c<brick.columns;c++)bricks[r][c]={x:c*brick.x+170,y:r*(brick.y-5)+85,unbroken:!0}}function createBricksL5(){for(brick.rows=6,brick.columns=6,r=0;r<brick.rows;r++)for(bricks[r]=[],c=0;c<brick.columns;c++)bricks[r][c]={x:c*brick.x+115,y:r*brick.y+80,unbroken:!0}}function createBricks(){"home"==gameState||"level1"==gameState||"playL1"==gameState?createBricksL1():"level2"==gameState||"playL2"==gameState?createBricksL2():"level3"==gameState||"playL3"==gameState?createBricksL3():"level4"==gameState||"playL4"==gameState?createBricksL4():"level5"!=gameState&&"playL5"!=gameState||createBricksL5()}function drawBricks(){for(r=0;r<brick.rows;r++)for(c=0;c<brick.columns;c++){if("level1"==gameState||"playL1"==gameState||"pauseL1"==gameState){let b1=bricks[0][c];b1.unbroken&&(context.fillStyle="#FFD700",context.fillRect(b1.x,b1.y,45,10));let b2=bricks[1][c];b2.unbroken&&(context.fillStyle="pink",context.fillRect(b2.x,b2.y,45,10));let b3=bricks[2][c];b3.unbroken&&(context.fillStyle="#85fbf1",context.fillRect(b3.x,b3.y,45,10))}if("level2"==gameState||"playL2"==gameState||"pauseL2"==gameState){let b1=bricks[r][0];b1.unbroken&&(context.fillStyle="#ea0f42",context.fillRect(b1.x,b1.y,45,10));let b2=bricks[r][1];b2.unbroken&&(context.fillStyle="#ff7b00",context.fillRect(b2.x,b2.y,45,10));let b3=bricks[r][2];b3.unbroken&&(context.fillStyle="#ff7b00",context.fillRect(b3.x,b3.y,45,10));let b4=bricks[r][3];b4.unbroken&&(context.fillStyle="#ffff00",context.fillRect(b4.x,b4.y,45,10));let b5=bricks[r][4];b5.unbroken&&(context.fillStyle="#99e000",context.fillRect(b5.x,b5.y,45,10));let b6=bricks[r][5];b6.unbroken&&(context.fillStyle="#004dff",context.fillRect(b6.x,b6.y,45,10));let b7=bricks[r][6];b7.unbroken&&(context.fillStyle="#004dff",context.fillRect(b7.x,b7.y,45,10));let b8=bricks[r][7];b8.unbroken&&(context.fillStyle="#7238a8",context.fillRect(b8.x,b8.y,45,10))}if("level3"==gameState||"playL3"==gameState||"pauseL3"==gameState){let b1=bricks[0][c];b1.unbroken&&(context.fillStyle="#383838",context.fillRect(b1.x,b1.y,45,10));let b2=bricks[1][c];b2.unbroken&&(context.fillStyle="#5e5e5e",context.fillRect(b2.x,b2.y,45,10));let b3=bricks[2][c];b3.unbroken&&(context.fillStyle="#838383",context.fillRect(b3.x,b3.y,45,10));let b4=bricks[3][c];b4.unbroken&&(context.fillStyle="#9C9C9C",context.fillRect(b4.x,b4.y,45,10));let b5=bricks[4][c];b5.unbroken&&(context.fillStyle="#B4B4B4",context.fillRect(b5.x,b5.y,45,10));let b6=bricks[5][c];b6.unbroken&&(context.fillStyle="#C3C3C3",context.fillRect(b6.x,b6.y,45,10));let b7=bricks[6][c];b7.unbroken&&(context.fillStyle="#D3D3D3",context.fillRect(b7.x,b7.y,45,10));let b8=bricks[7][c];b8.unbroken&&(context.fillStyle="#E2E2E2",context.fillRect(b8.x,b8.y,45,10));let b9=bricks[8][c];b9.unbroken&&(context.fillStyle="#fbfbfb",context.fillRect(b9.x,b9.y,45,10))}if("level4"==gameState||"playL4"==gameState||"pauseL4"==gameState){let b1=bricks[r][0];b1.unbroken&&(context.fillStyle="black",context.fillRect(b1.x,b1.y,45,10));let b2=bricks[r][1];b2.unbroken&&(context.fillStyle="black",context.fillRect(b2.x,b2.y,45,10));let b3=bricks[r][2];b3.unbroken&&(context.fillStyle="black",context.fillRect(b3.x,b3.y,45,10));let b4=bricks[r][3];b4.unbroken&&(context.fillStyle="black",context.fillRect(b4.x,b4.y,45,10))}if("level5"==gameState||"playL5"==gameState||"pauseL5"==gameState){let b1=bricks[r][0];b1.unbroken&&(context.fillStyle="transparent",context.fillRect(b1.x,b1.y,45,10),context.strokeStyle="yellow",context.strokeRect(b1.x,b1.y,45,10));let b2=bricks[r][1];b2.unbroken&&(context.fillStyle="transparent",context.fillRect(b2.x,b2.y,45,10),context.strokeStyle="yellow",context.strokeRect(b2.x,b2.y,45,10));let b3=bricks[r][2];b3.unbroken&&(context.fillStyle="transparent",context.fillRect(b3.x,b3.y,45,10),context.strokeStyle="yellow",context.strokeRect(b3.x,b3.y,45,10));let b4=bricks[r][3];b4.unbroken&&(context.fillStyle="transparent",context.fillRect(b4.x,b4.y,45,10),context.strokeStyle="yellow",context.strokeRect(b4.x,b4.y,45,10));let b5=bricks[r][4];b5.unbroken&&(context.fillStyle="transparent",context.fillRect(b5.x,b5.y,45,10),context.strokeStyle="yellow",context.strokeRect(b5.x,b5.y,45,10));let b6=bricks[r][5];b6.unbroken&&(context.fillStyle="transparent",context.fillRect(b6.x,b6.y,45,10),context.strokeStyle="yellow",context.strokeRect(b6.x,b6.y,45,10))}}}function ballCollisionsCanvas(){ball.y+ball.radius>540?(ball.ySpeed=-ball.ySpeed,soundWalls.play()):ball.y-ball.radius<10&&(soundWalls.play(),ball.ySpeed=-ball.ySpeed),ball.x+ball.radius>=530?(soundWalls.play(),ball.xSpeed=-ball.xSpeed):ball.x-ball.radius<20&&(soundWalls.play(),ball.xSpeed=-ball.xSpeed)}function ballCollisionsPaddle(){ball.y+(ball.radius-1)>paddle.y&&ball.y+(ball.radius-1)<paddle.y+paddle.height&&ball.x>paddle.x&&ball.x<paddle.x+paddle.width&&(soundPaddle.play(),ball.ySpeed=-ball.ySpeed,ball.xSpeed=-5*(2*Math.random()-1))}function ballCollisionsBricks(){for(r=0;r<brick.rows;r++)for(c=0;c<brick.columns;c++){let b1=bricks[0][c];b1.unbroken&&ball.x+ball.radius>b1.x&&ball.x-ball.radius<b1.x+brick.width&&ball.y+ball.radius>b1.y&&ball.y-ball.radius<b1.y+brick.height&&(soundBricks.play(),b1.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=100,soundBricks.play());let b2=bricks[1][c];b2.unbroken&&ball.x+ball.radius>b2.x&&ball.x-ball.radius<b2.x+brick.width&&ball.y+ball.radius>b2.y&&ball.y-ball.radius<b2.y+brick.height&&(soundBricks.play(),b2.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=50,soundBricks.play());let b3=bricks[2][c];if(b3.unbroken&&ball.x+ball.radius>b3.x&&ball.x-ball.radius<b3.x+brick.width&&ball.y+ball.radius>b3.y&&ball.y-ball.radius<b3.y+brick.height&&(soundBricks.play(),b3.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=20,soundBricks.play()),brick.rows>3){let b4=bricks[3][c];("playL2"===gameState&&b4.unbroken||"playL3"===gameState&&b4.unbroken||"playL4"===gameState&&b4.unbroken||"playL5"===gameState&&b4.unbroken)&&ball.x+ball.radius>b4.x&&ball.x-ball.radius<b4.x+brick.width&&ball.y+ball.radius>b4.y&&ball.y-ball.radius<b4.y+brick.height&&(soundBricks.play(),b4.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=15)}if(brick.rows>4){let b5=bricks[4][c];("playL2"===gameState&&b5.unbroken||"playL3"===gameState&&b5.unbroken||"playL4"===gameState&&b5.unbroken||"playL5"===gameState&&b5.unbroken)&&ball.x+ball.radius>b5.x&&ball.x-ball.radius<b5.x+brick.width&&ball.y+ball.radius>b5.y&&ball.y-ball.radius<b5.y+brick.height&&(soundBricks.play(),b5.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10)}if(brick.rows>5){let b6=bricks[5][c];("playL2"===gameState&&b6.unbroken||"playL3"===gameState&&b6.unbroken||"playL4"===gameState&&b6.unbroken||"playL5"===gameState&&b6.unbroken)&&ball.x+ball.radius>b6.x&&ball.x-ball.radius<b6.x+brick.width&&ball.y+ball.radius>b6.y&&ball.y-ball.radius<b6.y+brick.height&&(soundBricks.play(),b6.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10)}if(brick.rows>6){let b7=bricks[6][c];("playL3"===gameState&&b7.unbroken||"playL4"===gameState&&b7.unbroken||"playL5"===gameState&&b7.unbroken)&&ball.x+ball.radius>b7.x&&ball.x-ball.radius<b7.x+brick.width&&ball.y+ball.radius>b7.y&&ball.y-ball.radius<b7.y+brick.height&&(soundBricks.play(),b7.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b8=bricks[7][c];("playL3"===gameState&&b8.unbroken||"playL4"===gameState&&b8.unbroken||"playL5"===gameState&&b8.unbroken)&&ball.x+ball.radius>b8.x&&ball.x-ball.radius<b8.x+brick.width&&ball.y+ball.radius>b8.y&&ball.y-ball.radius<b8.y+brick.height&&(soundBricks.play(),b8.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b9=bricks[8][c];("playL3"===gameState&&b9.unbroken||"playL4"===gameState&&b9.unbroken||"playL5"===gameState&&b9.unbroken)&&ball.x+ball.radius>b9.x&&ball.x-ball.radius<b9.x+brick.width&&ball.y+ball.radius>b9.y&&ball.y-ball.radius<b9.y+brick.height&&(soundBricks.play(),b9.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10)}if(brick.rows>9){let b10=bricks[9][c];("playL4"===gameState&&b10.unbroken||"playL5"===gameState&&b10.unbroken)&&ball.x+ball.radius>b10.x&&ball.x-ball.radius<b10.x+brick.width&&ball.y+ball.radius>b10.y&&ball.y-ball.radius<b10.y+brick.height&&(soundBricks.play(),b10.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b11=bricks[10][c];("playL4"===gameState&&b11.unbroken||"playL5"===gameState&&b11.unbroken)&&ball.x+ball.radius>b11.x&&ball.x-ball.radius<b11.x+brick.width&&ball.y+ball.radius>b11.y&&ball.y-ball.radius<b11.y+brick.height&&(soundBricks.play(),b11.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b12=bricks[11][c];("playL4"===gameState&&b12.unbroken||"playL5"===gameState&&b12.unbroken)&&ball.x+ball.radius>b12.x&&ball.x-ball.radius<b12.x+brick.width&&ball.y+ball.radius>b12.y&&ball.y-ball.radius<b12.y+brick.height&&(soundBricks.play(),b12.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b13=bricks[12][c];("playL4"===gameState&&b13.unbroken||"playL5"===gameState&&b13.unbroken)&&ball.x+ball.radius>b13.x&&ball.x-ball.radius<b13.x+brick.width&&ball.y+ball.radius>b13.y&&ball.y-ball.radius<b13.y+brick.height&&(soundBricks.play(),b13.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b14=bricks[13][c];("playL4"===gameState&&b14.unbroken||"playL5"===gameState&&b14.unbroken)&&ball.x+ball.radius>b14.x&&ball.x-ball.radius<b14.x+brick.width&&ball.y+ball.radius>b14.y&&ball.y-ball.radius<b14.y+brick.height&&(soundBricks.play(),b14.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b15=bricks[14][c];("playL4"===gameState&&b15.unbroken||"playL5"===gameState&&b15.unbroken)&&ball.x+ball.radius>b15.x&&ball.x-ball.radius<b15.x+brick.width&&ball.y+ball.radius>b15.y&&ball.y-ball.radius<b15.y+brick.height&&(soundBricks.play(),b15.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b16=bricks[15][c];("playL4"===gameState&&b16.unbroken||"playL5"===gameState&&b16.unbroken)&&ball.x+ball.radius>b16.x&&ball.x-ball.radius<b16.x+brick.width&&ball.y+ball.radius>b16.y&&ball.y-ball.radius<b16.y+brick.height&&(soundBricks.play(),b16.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b17=bricks[16][c];("playL4"===gameState&&b17.unbroken||"playL5"===gameState&&b17.unbroken)&&ball.x+ball.radius>b17.x&&ball.x-ball.radius<b17.x+brick.width&&ball.y+ball.radius>b17.y&&ball.y-ball.radius<b17.y+brick.height&&(soundBricks.play(),b17.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b18=bricks[17][c];("playL4"===gameState&&b18.unbroken||"playL5"===gameState&&b18.unbroken)&&ball.x+ball.radius>b18.x&&ball.x-ball.radius<b18.x+brick.width&&ball.y+ball.radius>b18.y&&ball.y-ball.radius<b18.y+brick.height&&(soundBricks.play(),b18.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10);let b19=bricks[18][c];("playL4"===gameState&&b19.unbroken||"playL5"===gameState&&b19.unbroken)&&ball.x+ball.radius>b19.x&&ball.x-ball.radius<b19.x+brick.width&&ball.y+ball.radius>b19.y&&ball.y-ball.radius<b19.y+brick.height&&(soundBricks.play(),b19.unbroken=!1,ball.ySpeed=-ball.ySpeed,score+=10)}}}function draw(){"ending"!==gameState&&(displayScore("SCORE: "+score,380,48),life>3&&displayLives(life+" lives",40,48),3==life&&displayLives("warning : 3 lives left",40,48),2==life&&displayLives("WARNING : 2 lives left",40,48),1==life&&displayLives("DEATH IS NEAR ...",40,48),0==life&&displayLives("DEAD ! R.I.P.",40,48),drawPaddle(),drawBall(),drawBricks())}function move(){moveBall(),movePaddle()}function collisions(){ballCollisionsPaddle(),ballCollisionsCanvas(),ballCollisionsBricks()}function game(){context.clearRect(0,0,550,550),"ending"!==gameState&&draw(),updatePaddle(),"playL1"!==gameState&&"playL2"!==gameState&&"playL3"!==gameState&&"playL4"!==gameState&&"playL5"!==gameState||move(),collisions(),loseLife(),levelUp(),requestAnimationFrame(game)}createBricks(),game();